<!-- CUSTOM PROGRAM (FEEL FREE TO CHANGE IT) -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome, user! - Brgy Sta. Lucia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/perfect-scrollbar@1.5.0/css/perfect-scrollbar.css">
    <link rel="icon" href="../../dist/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../../BADAC/templates/css/index.css">
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Onboarding as BADAC Officer for Brgy. Management">
    <meta property="og:description" content="Still in development phase.">
    <meta property="og:image" content="URL_to_your_image.jpg">
    <meta property="og:url" content="https://yourwebsite.com">
    <meta property="og:type" content="website">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Onboarding as BADAC Officer for Brgy. Management">
    <meta name="twitter:description" content="Still in development phase.">
    <meta name="twitter:image" content="URL_to_your_image.jpg">
    <meta name="twitter:url" content="https://yourwebsite.com">
</head>


<style>
    a {
        text-decoration: none;
    }

    .pagination .page-item .page-link {
  color: #1E477D; /* Text color for pagination links */
  background-color: #f8f9fa; /* Background color for pagination links */
  border: 1px solid #dee2e6; /* Border color for pagination links */
}

.pagination .page-item.active .page-link {
  color: #fff; /* Text color for active page */
  background-color: #1E477D; /* Background color for active page */
  border-color: #1E477D; /* Border color for active page */
}

.pagination .page-item:hover .page-link {
  color: #1E477D; /* Text color on hover */
  background-color: #e9ecef; /* Background color on hover */
  border-color: #dee2e6; /* Border color on hover */
}
</style>

<body>
    <div id="app">

<div class="container-fluid d-flex">

        <nav class="sidebar" id="sidebar-badac">
            <div class="sidebar-content">
                <div class="sidebar-header">Brgy. Sta. Lucia</div>

                <div class="sidebar-category">
                    <div class="sidebar-category-header">
                        <span><i class="fas fa-user-friends category-icon"></i>Brgy. Anti Drug Abuse Council</span>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </div>
                    <div class="sidebar-submenu-show">

                        <a href="../../BADAC/templates/home.html">
                             <div class="sidebar-submenu-item">Home</div>
                        </a>

                        <a href="../../BADAC/templates/dashboard.html">
                            <div class="sidebar-submenu-item">Dashboard</div>
                        </a>

                        <a href="../../BADAC/templates/form.html">
                                <div class="sidebar-submenu-item">Form</div>
                        </a>
                        
                        <a href="../../BADAC/templates/notification.html">
                                <div class="sidebar-submenu-item">Notification</div>
                        </a>
    
                        <a href="../../BADAC/templates/contact.html">
                                <div class="sidebar-submenu-item">Contact</div>
                        </a>
                        
                    </div>
                </div>

                <div class="sidebar-category">
                    <div class="sidebar-category-header">
                        <span><i class="fa-solid fa-id-card category-icon"></i>User Profile</span>
                    </div>
                </div>

                <div class="sidebar-category">
                    <div class="sidebar-category-header" data-bs-toggle="modal" data-bs-target="#signOutModal">
                        <span><i class="fa-solid fa-door-open category-icon"></i>Sign Out</span>
                    </div>
                </div>
            </div>
        
        </nav>

         <div class="main-container container-fluid">
                        <div class="container-fluid d-flex justify-content-end">
                                <div class="breadcrumb">

                                        <span class="breadcrumb-item active">BADAC</span>

                                        <div class="breadcrumb-item">
                                                <a href="Home">Home</a>
                                        </div>
                                </div>
                        </div>
                        
                        <section class="dashboard container-fluid">

                                <div class="dashboard-search">
                                        <input type="search" id="searchInput" placeholder="Search..." style="width: 30%; border-radius: 20px;" class="p-2">
                                </div>

                                <div class="dashboard-table mt-3">
                                        <table class="table table-bordered">
                                                <thead>
                                                        <tr>
                                                                <th>Case#</th>
                                                                <th>Complainants</th>
                                                                <th>Respondents</th>
                                                                <th>PWUD</th>
                                                                <th>Description</th>
                                                                <th>Place</th>
                                                                <th>Date & Time</th>
                                                                <th>Case Type</th>
                                                                <th>Case Status</th>
                                                                <th>Action</th>
                                                        </tr>
                                                </thead>
                                                <tbody>
                                                        <tr>
                                                               
                                                        </tr>
                                                </tbody>
                                        </table>
                                </div>

                                <div class="pagination-container container-fluid d-flex justify-content-between">
                                        <label for="">Showing 1 to 5 of 5 entries </label>
                                        <ul class="pagination">
                                                <li class="page-item"><a class="page-link" href="#">Previous</a></li>
                                                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                                <li class="page-item"><a class="page-link" href="#">2</a></li>
                                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                                <li class="page-item"><a class="page-link" href="#">Next</a></li>
                                        </ul>
                                </div>

                                <div class="add-container d-flex justify-content-end mt-4">
                                        <button type="button" 
                                        class="btn addCases" 
                                        data-bs-toggle="modal" 
                                        data-bs-target="#addSection"
                                        style="background-color: #2D9276; color: white;">Add New Cases</button>
                                </div>

                                
                                
                        </section>


                        <!--Edit Cases-->
                        <div class="modal" id="editSection">
                                <div class="modal-dialog modal-fullscreen">
                                        <div class="modal-content">
                                                <div class="modal-header">
                                                        <div class="h4">
                                                                Edit Cases
                                                        </div>
                                                        <button type="button" 
                                                                class="btn-close" 
                                                                data-bs-dismiss="modal"></button>
                                                </div>
                                                <div class="modal-body">
                                                        <table class="table table-borderless">
                                                                <tr>
                                                                        <td>
                                                                                <label for="">Case #</label>
                                                                                <input type="text" class="form-control" name="caseNumber">
                                                                        </td>
                                                                        <td>
                                                                                <label>People Who Used Drug (PWUD) </label>
                                                                                <input type="text" class="form-control" name="pwud">
                                                                        </td>
                                                                </tr>
                                                                <tr>
                                                                        <td>
                                                                                <label>Complainants</label>
                                                                                <input type="text" class="form-control" name="complainants">
                                                                        </td>
                                                                        <td>
                                                                                <label>Case Type</label> <br>
                                                                                <select name="caseType" 
                                                                                        id="editCaseType" 
                                                                                        style="width: 100%;" 
                                                                                        class="p-2">

                                                                                            <option value="" 
                                                                                                    disabled 
                                                                                                    selected>Pick Case Type</option>
                                                                                            <option value="Severe">Severe</option>       
                                                                                            <option value="Mild">Mild</option>
                                                                                            <option value="Moderate">Moderate</option>

                                                                                </select>
                                                                        </td>
                                                                </tr>
                                                                <tr>
                                                                        <td>
                                                                                <label>Respondent</label>
                                                                                <input type="text" class="form-control" name="respondent">
                                                                        </td>
                                                                        <td>
                                                                                <label>Case Status</label>
                                                                                <select name="caseStatus" 
                                                                                        id="editCaseStatus"
                                                                                        style="width: 100%;"
                                                                                        class="p-2">
                                                                                            
                                                                                             <option value=""
                                                                                                     disabled
                                                                                                     selected>Pick Case Status</option>
                                                                                                     <option value="Ongoing">Ongoing</option>
                                                                                                     <option value="Pending">Pending</option>
                                                                                                     <option value="Resolved">Resolved</option>

                                                                                </select>
                                                                        </td>
                                                                        
                                                                </tr>
                                                                <tr>
                                                                        <td>
                                                                                <label>Description</label> <br>
                                                                                <textarea name="description" 
                                                                                          id=""
                                                                                          style="width: 100%;"
                                                                                          class="p-2"></textarea>
                                                                        </td>
                                                                        <td>
                                                                                <label for="">Date & Time</label>
                                                                                <input type="datetime-local" 
                                                                                       name="dateTime" 
                                                                                       id="" 
                                                                                       class="form-control">
                                                                        </td>
                                                                </tr>
                                                                <tr>
                                                                        <td>
                                                                                <label for="">Place</label>
                                                                                <input type="text" class="form-control" name="place">
                                                                        </td>
                                                                </tr>
                                                                <tr>
                                                                                <td>
                                                                                        <button type="button" 
                                                                                                class="btn btn-success" 
                                                                                                style="background-color: #2D9276; color: white;">Save Changes</button>
                                                                                        <button type="button" 
                                                                                                class="btn btn-danger"
                                                                                                style="background-color: #A9262E; color: white;">Cancel</button>

                                                                                </td>
                                                                        </tr>
                                                        </table>
                                                </div>
                                        </div>
                                </div>
                        </div>
                        <!--End Edit Modal--> 
                         
                        <!--Add Cases-->
                        <div class="modal" id="addSection">
                                <div class="modal-dialog modal-fullscreen">
                                        <div class="modal-content">
                                                <div class="modal-header">
                                                        <div class="h4">
                                                                Add Cases
                                                        </div>
                                                        <button type="button" 
                                                                class="btn-close" 
                                                                data-bs-dismiss="modal"></button>
                                                </div>
                                                <div class="modal-body">
                                                        <form id="addCaseForm">
                                                                <table class="table table-borderless">
                                                                        <tr>
                                                                                <td>
                                                                                        <label for="caseNumber">Case #</label>
                                                                                        <input type="text" 
                                                                                               id="caseNumber" 
                                                                                               class="form-control" 
                                                                                               required>
                                                                                </td>
                                                                                <td>
                                                                                        <label>People Who Used Drug (PWUD) </label>
                                                                                        <input type="text" 
                                                                                               id="pwud" 
                                                                                               class="form-control" 
                                                                                               required>
                                                                                </td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td>
                                                                                        <label>Complainants</label>
                                                                                        <input type="text" id="complainants" class="form-control" required>
                                                                                </td>
                                                                                <td>
                                                                                        <label>Case Type</label> <br>
                                                                                        <select id="caseType" 
                                                                                                style="width: 100%;"  
                                                                                                class="p-2" 
                                                                                                required>
                                                                                                <option value="" disabled selected>Pick Case Type</option>
                                                                                                <option value="Severe">Severe</option>       
                                                                                                <option value="Mild">Mild</option>
                                                                                                <option value="Moderate">Moderate</option>

                                                                                        </select>
                                                                                </td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td>
                                                                                        <label>Respondent</label>
                                                                                        <input type="text" id="respondent" class="form-control" required>
                                                                                </td>
                                                                                <td>
                                                                                        <label>Case Status</label>
                                                                                        <select id="caseStatus" style="width: 100%;" class="p-2" required>
                                                                                                <option value="" disabled selected>Pick Case Status</option>
                                                                                                <option value="Ongoing">Ongoing</option>
                                                                                                <option value="Pending">Pending</option>
                                                                                                <option value="Resolved">Resolved</option>
                                                                                        </select>
                                                                                </td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td>
                                                                                        <label>Description</label> <br>
                                                                                        <textarea id="description" style="width: 100%;" class="p-2" required></textarea>
                                                                                </td>
                                                                                <td>
                                                                                        <label for="dateTime">Date & Time</label>
                                                                                        <input type="datetime-local" id="dateTime" class="form-control" required>
                                                                                </td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td>
                                                                                        <label for="place">Place</label>
                                                                                        <input type="text" id="place" class="form-control" required>
                                                                                </td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td>
                                                                                        <button type="submit" 
                                                                                                class="btn" 
                                                                                                style="background-color: #2D9276; color: white;">Add to table</button>
                                                                                        <button type="button" 
                                                                                                class="btn" 
                                                                                                style="background-color: #A9262E; color: white;" 
                                                                                                data-bs-dismiss="modal">Cancel</button>
                                                                                </td>
                                                                        </tr>
                                                                </table>
                                                        </form>
                                                </div>
                                        </div>
                                </div>
                        </div>
                        <!--End Add Cases-->
                      
                 </div>
            
    
</div>
    </div>
        

    <script src="https://cdn.jsdelivr.net/npm/perfect-scrollbar@1.5.0/dist/perfect-scrollbar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
    <script>
        const sidebar = document.querySelector('.sidebar-content');
        const ps = new PerfectScrollbar(sidebar);

        function toggleSubmenu(element) {
            const submenu = element.nextElementSibling;
            const allSubmenus = document.querySelectorAll('.sidebar-submenu');
            const allHeaders = document.querySelectorAll('.sidebar-category-header');

            allSubmenus.forEach(menu => {
                if (menu !== submenu) {
                    menu.classList.remove('show');
                }
            });

            allHeaders.forEach(header => {
                if (header !== element) {
                    header.classList.remove('active');
                }
            });

            submenu.classList.toggle('show');
            element.classList.toggle('active');
            ps.update();
        }

        function createRipple(event) {
            const button = event.currentTarget;
            const ripple = document.createElement('span');
            const rect = button.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = event.clientX - rect.left - size / 2;
            const y = event.clientY - rect.top - size / 2;

            ripple.style.width = ripple.style.height = `${size}px`;
            ripple.style.left = `${x}px`;
            ripple.style.top = `${y}px`;
            ripple.classList.add('ripple');

            button.appendChild(ripple);

            ripple.addEventListener('animationend', () => {
                ripple.remove();
            });
        }

        document.querySelectorAll('.sidebar-submenu-item').forEach(item => {
            item.addEventListener('mouseenter', createRipple);
        });

            document.getElementById('confirmSignOutBtn').addEventListener('click', function () {
        // Redirect to signout.php to handle session destruction and redirection
        window.location.href = '../../../../../signout.php';
    });
    </script>

<script>
    document.getElementById('addCaseForm').addEventListener('submit', function(event) {
        event.preventDefault();
    
        const caseNumber = document.getElementById('caseNumber').value;
        const pwud = document.getElementById('pwud').value;
        const complainants = document.getElementById('complainants').value;
        const caseType = document.getElementById('caseType').value;
        const respondent = document.getElementById('respondent').value;
        const caseStatus = document.getElementById('caseStatus').value;
        const description = document.getElementById('description').value;
        const dateTime = document.getElementById('dateTime').value;
        const place = document.getElementById('place').value;
    
        const newRow = `
            <tr>
                <td>${caseNumber}</td>
                <td>${complainants}</td>
                <td>${respondent}</td>
                <td>${pwud}</td>
                <td>${description}</td>
                <td>${place}</td>
                <td>${new Date(dateTime).toLocaleString()}</td>
                <td>${caseType}</td>
                <td>${caseStatus}</td>
                <td>
                    <button type="button" style="background-color:#1E477D; color:white" class="btn edit-btn" data-bs-toggle="modal" data-bs-target="#editSection">EDIT</button>
                </td>
            </tr>
        `;
    
        document.querySelector('.dashboard-table tbody').insertAdjacentHTML('beforeend', newRow);
        document.getElementById('addCaseForm').reset();
        document.querySelector('#addSection .btn-close').click();
        addEditEventListeners();
    });
    
    function addEditEventListeners() {
        document.querySelectorAll('.edit-btn').forEach(button => {
            button.removeEventListener('click', handleEditClick); // Remove existing listener
            button.addEventListener('click', handleEditClick); // Add new listener
        });
    }
    
    function handleEditClick() {
        const row = this.closest('tr');
        const caseNumber = row.children[0].textContent;
        const complainants = row.children[1].textContent;
        const respondent = row.children[2].textContent;
        const pwud = row.children[3].textContent;
        const description = row.children[4].textContent;
        const place = row.children[5].textContent;
        const dateTime = row.children[6].textContent;
        const caseType = row.children[7].textContent;
        const caseStatus = row.children[8].textContent;
    
        document.querySelector('#editSection input[name="caseNumber"]').value = caseNumber;
        document.querySelector('#editSection input[name="complainants"]').value = complainants;
        document.querySelector('#editSection input[name="respondent"]').value = respondent;
        document.querySelector('#editSection input[name="pwud"]').value = pwud;
        document.querySelector('#editSection textarea[name="description"]').value = description;
        document.querySelector('#editSection input[name="place"]').value = place;
        document.querySelector('#editSection input[name="dateTime"]').value = new Date(dateTime).toISOString().slice(0, 16);
        document.querySelector('#editSection select[name="caseType"]').value = caseType;
        document.querySelector('#editSection select[name="caseStatus"]').value = caseStatus;
    
        document.querySelector('#editSection .btn-success').onclick = function() {
            row.children[0].textContent = document.querySelector('#editSection input[name="caseNumber"]').value;
            row.children[1].textContent = document.querySelector('#editSection input[name="complainants"]').value;
            row.children[2].textContent = document.querySelector('#editSection input[name="respondent"]').value;
            row.children[3].textContent = document.querySelector('#editSection input[name="pwud"]').value;
            row.children[4].textContent = document.querySelector('#editSection textarea[name="description"]').value;
            row.children[5].textContent = document.querySelector('#editSection input[name="place"]').value;
            row.children[6].textContent = new Date(document.querySelector('#editSection input[name="dateTime"]').value).toLocaleString();
            row.children[7].textContent = document.querySelector('#editSection select[name="caseType"]').value;
            row.children[8].textContent = document.querySelector('#editSection select[name="caseStatus"]').value;
    
            // Close the modal
            const modalElement = document.getElementById('editSection');
            const modal = bootstrap.Modal.getInstance(modalElement);
            modal.hide();
        };
    }
    
    document.getElementById('searchInput').addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const rows = document.querySelectorAll('.dashboard-table tbody tr');
    
        rows.forEach(row => {
            const cells = row.querySelectorAll('td');
            const rowText = Array.from(cells).map(cell => cell.textContent.toLowerCase()).join(' ');
            row.style.display = rowText.includes(searchTerm) ? '' : 'none';
        });
    });
    
    addEditEventListeners();
    </script>
    
</body>

</html>